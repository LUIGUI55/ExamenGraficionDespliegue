{% extends 'base.html' %}

{% block content %}
<div class="max-w-7xl mx-auto">
    <div class="flex items-center justify-between mb-12">
        <h1 class="text-4xl font-bold text-white font-tech tracking-wide">
            ANALYSIS <span class="text-neon-blue">RESULT</span>: <span
                class="text-transparent bg-clip-text bg-gradient-to-r from-white to-slate-400">{{ type }}</span>
        </h1>
        <a href="/"
            class="group px-6 py-3 bg-dark-800/50 hover:bg-neon-blue/10 border border-slate-700 hover:border-neon-blue rounded-xl text-slate-300 hover:text-white transition-all duration-300 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:-translate-x-1 transition-transform"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            <span>Return to Dashboard</span>
        </a>
    </div>

    <div class="glass-panel rounded-3xl p-8 md:p-12 mb-8 relative overflow-hidden">
        <!-- Background Glow -->
        <div
            class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-gradient-to-br from-neon-blue/5 to-neon-purple/5 pointer-events-none">
        </div>

        <div class="grid md:grid-cols-2 gap-16 items-start relative z-10">

            <!-- Original Image -->
            <div class="space-y-6">
                <div class="flex items-center gap-3 border-b border-slate-700/50 pb-4">
                    <div class="w-2 h-2 rounded-full bg-slate-500"></div>
                    <h3 class="text-lg font-semibold text-slate-300 uppercase tracking-widest font-tech">Source Input
                    </h3>
                </div>

                <div
                    class="group relative rounded-2xl overflow-hidden border border-slate-700/50 bg-dark-900/80 aspect-square flex items-center justify-center shadow-2xl">
                    <div class="absolute inset-0 bg-grid-slate-800/[0.2] bg-[length:32px_32px]"></div>
                    <img src="{{ original_url }}" alt="Original"
                        class="max-h-full max-w-full object-contain relative z-10 transition-transform duration-500 group-hover:scale-105">

                    <!-- Tech overlay corners -->
                    <div class="absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-slate-500/30 rounded-tl-lg">
                    </div>
                    <div class="absolute top-0 right-0 w-8 h-8 border-t-2 border-r-2 border-slate-500/30 rounded-tr-lg">
                    </div>
                    <div
                        class="absolute bottom-0 left-0 w-8 h-8 border-b-2 border-l-2 border-slate-500/30 rounded-bl-lg">
                    </div>
                    <div
                        class="absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-slate-500/30 rounded-br-lg">
                    </div>
                </div>
            </div>

            <!-- Processed Image & Prediction -->
            <div class="space-y-8">
                <!-- Result Image -->
                <div class="space-y-6">
                    <div class="flex items-center gap-3 border-b border-slate-700/50 pb-4">
                        <div class="w-2 h-2 rounded-full bg-neon-blue animate-pulse"></div>
                        <h3 class="text-lg font-semibold text-neon-blue uppercase tracking-widest font-tech text-glow">
                            Processed Output</h3>
                    </div>

                    <div
                        class="group relative rounded-2xl overflow-hidden border border-neon-blue/30 bg-dark-900/80 aspect-square flex items-center justify-center shadow-[0_0_30px_rgba(0,243,255,0.1)]">
                        <div class="absolute inset-0 bg-grid-slate-800/[0.2] bg-[length:32px_32px]"></div>

                        <!-- Scanline Effect -->
                        <div
                            class="absolute inset-0 bg-gradient-to-b from-transparent via-neon-blue/5 to-transparent h-full w-full animate-scan pointer-events-none z-20">
                        </div>

                        <img src="{{ processed_url }}" alt="Processed"
                            class="max-h-full max-w-full object-contain relative z-10">

                        <!-- Tech overlay corners -->
                        <div class="absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-neon-blue rounded-tl-lg">
                        </div>
                        <div
                            class="absolute top-0 right-0 w-8 h-8 border-t-2 border-r-2 border-neon-blue rounded-tr-lg">
                        </div>
                        <div
                            class="absolute bottom-0 left-0 w-8 h-8 border-b-2 border-l-2 border-neon-blue rounded-bl-lg">
                        </div>
                        <div
                            class="absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-neon-blue rounded-br-lg">
                        </div>
                    </div>
                </div>

                <!-- Prediction Label -->
                <div
                    class="bg-dark-900/60 rounded-2xl p-8 border border-slate-700/50 backdrop-blur-xl relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-neon-blue to-transparent"></div>

                    <p class="text-sm text-slate-400 uppercase tracking-widest mb-3 font-tech">Model Prediction
                        Confidence</p>
                    <div class="text-4xl font-bold text-white flex items-center gap-4">
                        {% if "No" in label or "Neutral" in label %}
                        <div class="h-6 w-6 rounded-full bg-neon-green shadow-[0_0_15px_#00ff9d]"></div>
                        <span class="text-neon-green text-glow">{{ label }}</span>
                        {% else %}
                        <div class="h-6 w-6 rounded-full bg-neon-pink shadow-[0_0_15px_#ff0055] animate-pulse"></div>
                        <span class="text-neon-pink text-glow">{{ label }}</span>
                        {% endif %}
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<style>
    .bg-grid-slate-800\/\[0\.2\] {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(30 41 59 / 0.2)'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e");
    }

    @keyframes scan {
        0% {
            transform: translateY(-100%);
        }

        100% {
            transform: translateY(100%);
        }
    }

    .animate-scan {
        animation: scan 4s linear infinite;
    }
</style>
{% endblock %}